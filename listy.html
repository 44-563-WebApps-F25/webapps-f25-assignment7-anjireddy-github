<!DOCTYPE html>
<html> 
<head> 
  <title>Anjireddy Dynamic List Builder</title>
  <style>
    .flex-container {
      display: flex;  flex-direction:row;
      background-color: red;
  }

.flex-container > div {  /*div children of the flex container*/
  background-color: #f1f1f1; 
  margin: 10px;  padding: 20px;  font-size: 30px;
}

/* Styling for listy items */
.listy {
  background-color: #f1f1f1; 
  margin: 10px;  
  padding: 20px;  
  font-size: 30px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Input styling */
#listInput {
  padding: 10px;
  font-size: 16px;
  margin: 10px;
  border: 2px solid #ccc;
  border-radius: 5px;
  width: 300px;
}

/* Button styling */
button {
  padding: 10px 20px;
  font-size: 16px;
  margin: 10px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

button:hover {
  background-color: #45a049;
}

/* Responsive layout */
@media (max-width: 600px) { 
	 .flex-container{
		 flex-direction:column;
		 background-color: green;
	  }
	}
</style></head>



<body>
	<h2>Anjireddy builds a list</h2>
	
	<input type="text" id="listInput" placeholder="Enter item text">
	
	<div class="flex-container" id="target">
		  <div class="listy">row item 1</div>   
		  <div class="listy">row item 2</div>  
		  <div class="listy">row item 3</div>  
		</div>
	
	<p> Press the button to create a new element with text from the input and add it to the container. List is limited to 10 items.
		</p>
		<p id="itemCount">Items in list: 3</p>
		<button onclick="makeNewDiv()">Add One</button>	
</body>
<script>
	function makeNewDiv(){
		let element = document.createElement("div")
		
		let inputElement = document.getElementById('listInput')
		let inputValue = inputElement.value
		
		element.innerHTML = inputValue
		
		element.className = "listy"
		
		element.style.color = "orange"

		let listyItems = document.getElementsByClassName("listy")
		
		if (listyItems.length > 9) {
			let itemRemoved = false
			
			for (let item of listyItems) {
				if (item.innerHTML === inputValue) {
					console.log("Removing duplicate item: " + item.innerHTML)
					item.remove()
					itemRemoved = true
					break  /* Remove only one duplicate */
				}
			}
			
			if (!itemRemoved) {
				console.log("No duplicates found. Removing first item: " + listyItems[0].innerHTML)
				listyItems[0].remove()
			}
		}

		/* Now append the new element */
		let container = document.getElementById('target')
		container.appendChild(element)
		
		/* Update the item counter */
		updateItemCount()
		
		inputElement.value = ""
	}
	
	function updateItemCount() {
		let listyItems = document.getElementsByClassName("listy")
		let counter = document.getElementById('itemCount')
		counter.innerHTML = "Items in list: " + listyItems.length
	}
</script>
</html>	